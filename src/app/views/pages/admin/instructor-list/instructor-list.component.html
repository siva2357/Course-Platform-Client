<div class="container pt-5 mt-5 mb-5">
  <!-- Section Heading -->
  <div class="mb-4">
    <h4 class="fw-bold mb-1">Clients Management</h4>
    <p class="text-muted" style="font-size: 14px;">View, filter, and manage registered clients</p>
  </div>

  <!-- Clients Table -->
  <div class="table-responsive rounded-4 shadow-sm bg-white">
    <table class="table table-bordered table-hover align-middle mb-0"  style="font-size: 14px;">
      <thead class="table-light">
        <tr class="text-muted" style="font-size: 13px;">
          <th class="px-3">#</th>
          <th>Full Name</th>
          <th>Email</th>
          <th>Verification</th>
          <th>Role</th>
          <th>Status</th>
          <th>Last Login</th>
          <th>Last Logout</th>
          <th class="text-center">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let instructor of paginatedInstructors; let i = index" class="border-bottom">
          <td class="fw-semibold px-3">{{ (currentPage - 1) * itemsPerPage + i + 1 }}</td>
          <td>{{ instructor.registrationDetails?.fullName || '—' }}</td>
          <td class="text-muted">{{ instructor.registrationDetails?.email || '—' }}</td>
          <td>
            <span class="badge rounded-pill px-3 py-2"
                  [ngClass]="instructor.registrationDetails?.verified ? 'bg-success-subtle text-success' : 'bg-secondary-subtle text-secondary'">
              {{ instructor.registrationDetails?.verified ? 'Verified' : 'Unverified' }}
            </span>
          </td>
          <td><span class="text-capitalize">{{ instructor.role || '—' }}</span></td>
          <td>
            <span class="badge rounded-pill px-3 py-2"
                  [ngClass]="{
                    'bg-success-subtle text-success': instructor.status === 'active',
                    'bg-danger-subtle text-danger': instructor.status === 'inactive',
                    'bg-warning-subtle text-dark': instructor.status === 'pending'
                  }">
              {{ instructor.status || '—' }}
            </span>
          </td>
          <td>{{ instructor.lastLoginAt ? (instructor.lastLoginAt | date: 'short') : '—' }}</td>
          <td>{{ instructor.lastLogoutAt ? (instructor.lastLogoutAt | date: 'short') : '—' }}</td>
          <td class="text-center">
            <button class="btn btn-sm btn-outline-primary rounded-2 px-3 shadow-sm"
                    (click)="viewInstructorProfile(instructor._id)">
              <i class="bi bi-eye me-1"></i> View
            </button>
          </td>
        </tr>

        <!-- Empty state -->
        <tr *ngIf="paginatedInstructors.length === 0">
          <td colspan="9" class="text-center text-muted py-5">
            <i class="bi bi-people fs-1 d-block mb-2"></i>
            <span class="fw-semibold">No clients found</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination + Controls -->
  <div class="d-flex align-items-center justify-content-between mt-4 flex-wrap gap-3">

    <!-- Left: Items per page -->
    <div class="d-flex align-items-center">
      <label for="itemsPerPage" class="me-2 mb-0 fw-semibold">Show</label>
      <select id="itemsPerPage" [(ngModel)]="itemsPerPage" (change)="updatePagination()"
              class="form-select form-select-sm  shadow-sm"
              style="width: 70px;">
        <option *ngFor="let size of [5,10,20,50]" [value]="size">{{ size }}</option>
      </select>
    </div>

    <!-- Center: Pagination -->
    <nav>
      <ul class="pagination pagination-sm mb-0 shadow-sm  overflow-hidden">
        <li class="page-item" [class.disabled]="currentPage === 1">
          <a class="page-link" (click)="onPageChange(currentPage - 1)" href="javascript:void(0)">&laquo;</a>
        </li>
        <li *ngFor="let page of pageNumbers" class="page-item" [class.active]="page === currentPage">
          <a class="page-link" (click)="onPageChange(page)" href="javascript:void(0)">{{ page }}</a>
        </li>
        <li class="page-item" [class.disabled]="currentPage === totalPages">
          <a class="page-link" (click)="onPageChange(currentPage + 1)" href="javascript:void(0)">&raquo;</a>
        </li>
      </ul>
    </nav>

    <!-- Right: Page info -->
    <div class="text-muted small">
      Page <span class="fw-semibold">{{ currentPage }}</span> of <span class="fw-semibold">{{ totalPages }}</span>
    </div>
  </div>
</div>
