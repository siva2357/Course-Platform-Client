<div class="container pt-5 mt-5 mb-5">


      <div class="mb-4">
    <h5 class="fw-semibold">My Courses</h5>
    <p class="text-muted" style="font-size: 14px;"> Look up courses you've created</p>
  </div>



  <!-- 🔍 Search & Filter Section -->
<div class="row g-3 align-items-end mb-3">

  <!-- 🔎 Search Field -->
  <div class="col-12 col-md-4">
    <label class="form-label fw-medium mb-1 small">Search Course</label>
    <input
      type="text"
      class="form-control form-control-sm shadow-sm"
      [(ngModel)]="searchTerm"
      placeholder="Search by title..."
    />
  </div>

  <!-- 📂 Category Filter -->
  <div class="col-12 col-md-3">
    <label class="form-label fw-medium mb-1 small">Filter by Category</label>
    <select
      class="form-select form-select-sm shadow-sm"
      [(ngModel)]="selectedCategory"
      (change)="filterByCategory()"
    >
      <option value="">All Categories</option>
      <option *ngFor="let category of availableCategories" [value]="category">
        {{ category }}
      </option>
    </select>
  </div>

  <!-- 🔍 Search Button -->
  <div class="col-6 col-md-2">
    <label class="form-label fw-medium mb-1 small d-none d-md-block">&nbsp;</label>
    <button
      class="btn btn-sm btn-outline-primary w-100 shadow-sm"
      (click)="performSearch()"
    >
      Search
    </button>
  </div>

  <!-- 🔄 Reset Button -->
  <div class="col-6 col-md-2">
    <label class="form-label fw-medium mb-1 small d-none d-md-block">&nbsp;</label>
    <button
      class="btn btn-sm btn-outline-secondary w-100 shadow-sm"
      (click)="resetSearch()"
    >
      Reset
    </button>
  </div>
</div>



  <!-- ➕ New Course Button -->
  <div class="col-12 text-end mt-5">
    <button class="btn btn-sm btn-outline-primary px-4 shadow-sm text-end w-md-auto" (click)="createNewCourse()">
      New Course
    </button>
  </div>


<div class="table-responsive mb-4">
  <table class="table table-hover table-striped align-middle shadow-sm small">
    <thead class="table-light d-none d-md-table-header-group">
      <tr class="text-center">
        <th>S.No</th>
        <th>Course Title</th>
        <th>Category</th>
        <th>Posted On</th>
        <th>Updated On</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody *ngIf="filteredData.length > 0">
      <tr *ngFor="let course of paginatedData; let i = index" class="d-block d-md-table-row mb-3 mb-md-0 border rounded p-2 p-md-0">
        <!-- S.No -->
        <td class="d-flex d-md-table-cell justify-content-between">
          <span class="fw-bold d-md-none">#</span>
          {{ (currentPage - 1) * itemsPerPage + i + 1 }}
        </td>

        <!-- Title -->
        <td class="d-flex d-md-table-cell justify-content-between text-truncate" style="max-width: 220px;">
          <span class="fw-bold d-md-none">Title:</span>
          {{ course.landingPage.courseTitle }}
        </td>

        <!-- Category -->
        <td class="d-flex d-md-table-cell justify-content-between">
          <span class="fw-bold d-md-none">Category:</span>
          {{ course.landingPage.courseCategory }}
        </td>

        <!-- Posted -->
        <td class="d-flex d-md-table-cell justify-content-between">
          <span class="fw-bold d-md-none">Posted On:</span>
          {{ course.createdAt | date: 'dd-MM-yyyy' }}
        </td>

        <!-- Updated -->
        <td class="d-flex d-md-table-cell justify-content-between">
          <span class="fw-bold d-md-none">Updated On:</span>
          {{ course.updatedAt | date: 'dd-MM-yyyy' }}
        </td>

        <!-- Status -->
        <td class="d-flex d-md-table-cell justify-content-between">
          <span class="fw-bold d-md-none">Status:</span>
          <span class="badge bg-success" *ngIf="course.status === 'Published'">{{ course.status }}</span>
          <span class="badge bg-warning text-dark" *ngIf="course.status !== 'Published'">{{ course.status }}</span>
        </td>

        <!-- Actions -->
        <td class="d-flex d-md-table-cell justify-content-between">
          <span class="fw-bold d-md-none">Actions:</span>
          <div class="d-flex gap-2 flex-wrap justify-content-end">
            <button class="btn btn-outline-info btn-sm shadow-sm px-3"
                    (click)="goToEditCourse(course._id!)">Edit</button>
            <button class="btn btn-outline-danger btn-sm shadow-sm px-3"
                    (click)="deleteCourse(course._id!)">Delete</button>
          </div>
        </td>
      </tr>
    </tbody>

    <!-- No Data -->
    <tbody *ngIf="filteredData.length === 0">
      <tr>
        <td  class="text-muted text-center py-4">No courses available to display.</td>
      </tr>
    </tbody>
  </table>
</div>



<div class="d-flex align-items-center mb-3 border rounded shadow-sm bg-light  flex-nowrap flex-wrap">
<div class="d-flex align-items-center flex-shrink-0 me-3" style="min-width: 100px;">
    <label for="itemsPerPage" class="me-2 mb-0" style="white-space: nowrap;">Show</label>
    <select id="itemsPerPage" [(ngModel)]="itemsPerPage" (change)="updatePagination()" class="form-select form-select-sm" style="min-width: 50px; max-width: 60px;">
      <option *ngFor="let size of [5,10,20,50]" [value]="size">{{ size }}</option>
    </select>
  </div>


  <div class="flex-grow-1 d-flex justify-content-center overflow-auto">
    <ul class="pagination pagination-sm m-0 flex-nowrap">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <a class="page-link" (click)="onPageChange(currentPage - 1)" href="javascript:void(0)">&laquo;</a>
      </li>
      <li *ngFor="let page of pageNumbers" class="page-item" [class.active]="page === currentPage">
        <a class="page-link" (click)="onPageChange(page)" href="javascript:void(0)">{{ page }}</a>
      </li>
      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <a class="page-link" (click)="onPageChange(currentPage + 1)" href="javascript:void(0)">&raquo;</a>
      </li>
    </ul>
  </div>

  <!-- Right: Current page info -->
  <div class="flex-shrink-0 ms-3" style="min-width: 100px; text-align: right;">
    <small class="text-muted">Page {{ currentPage }} of {{ totalPages }}</small>
  </div>

</div>



  <!-- ℹ️ Info Cards -->
  <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 px-2 px-md-4">
    <div class="col" *ngFor="let card of [
      { title: 'Create an Engaging Course', text: 'Outline and plan impactful content that keeps students engaged.', img: 'https://res.cloudinary.com/dpp8aspqs/image/upload/v1744169959/3d-render-online-education-survey-test-concept_107791-15665_dkwkmj.jpg' },
      { title: 'Get Started with Video', text: 'We’ll guide you on tools and tips to record high-quality lectures from home.', img: 'https://res.cloudinary.com/dpp8aspqs/image/upload/v1744169959/3d-render-online-education-survey-test-concept_107791-15665_dkwkmj.jpg' },
      { title: 'Build Your Audience', text: 'Get tips on growing your audience and reaching learners before going live.', img: 'https://res.cloudinary.com/dpp8aspqs/image/upload/v1744169959/3d-render-online-education-survey-test-concept_107791-15665_dkwkmj.jpg' }
    ]">
      <div class="card h-100 border-0 rounded-4 shadow-sm"
           style="background-color:#fcfcfc; border:1px solid #007bff;">
        <img [src]="card.img" class="card-img-top rounded-top-4" [alt]="card.title">
        <div class="card-body">
          <h5 class="text-primary fw-semibold">{{ card.title }}</h5>
          <p class="text-muted small">{{ card.text }}</p>
        </div>
      </div>
    </div>
  </div>

</div>




<div class="container-fluid py-5 bg-light">

  <!-- 🎯 Header -->
  <div class="text-center mb-5">
    <h2 class="fw-bold text-primary">Start Your Course Creation Journey</h2>
    <p class="text-secondary fs-6">We’ll guide you through every step to publish a high-quality learning experience.</p>
  </div>

  <!-- 🧭 Timeline -->
  <div class="row justify-content-center">
    <div class="col-lg-9 position-relative ps-4">

      <!-- Vertical Line -->
      <div class="position-absolute top-0 start-0 bottom-0 border-start border-3 border-primary" style="left: 16px;"></div>

      <!-- Timeline Item 1 -->
      <div class="mb-5 position-relative">
        <div class="position-absolute top-0 start-0 translate-middle bg-primary rounded-circle" style="width: 16px; height: 16px;"></div>
        <div class="p-4 ms-4 rounded-4 shadow-sm" style="background-color: #e7f1ff; border-left: 5px solid #0d6efd;">
          <h5 class="text-primary fw-semibold mb-2">Step 1: Add Course Details</h5>
          <p class="text-muted mb-0">Set the title, category, thumbnail, and preview video of your course.</p>
        </div>
      </div>

      <!-- Timeline Item 2 -->
      <div class="mb-5 position-relative">
        <div class="position-absolute top-0 start-0 translate-middle bg-info rounded-circle" style="width: 16px; height: 16px;"></div>
        <div class="p-4 ms-4 rounded-4 shadow-sm" style="background-color: #e0f7fc; border-left: 5px solid #0dcaf0;">
          <h5 class="text-info fw-semibold mb-2">Step 2: Define Learning Objectives</h5>
          <p class="text-muted mb-0">Define what students will learn, prerequisites, and the course level.</p>
        </div>
      </div>

      <!-- Timeline Item 3 -->
      <div class="mb-5 position-relative">
        <div class="position-absolute top-0 start-0 translate-middle bg-success rounded-circle" style="width: 16px; height: 16px;"></div>
        <div class="p-4 ms-4 rounded-4 shadow-sm" style="background-color: #e6f4ea; border-left: 5px solid #198754;">
          <h5 class="text-success fw-semibold mb-2">Step 3: Add Curriculum</h5>
          <p class="text-muted mb-1">Organize your course with sections and lectures. Include titles, videos, and resources.</p>
          <p class="text-info small mb-0"><i class="bi bi-lightbulb"></i> Tip: Keep each video under 10 minutes.</p>
        </div>
      </div>

      <!-- Timeline Item 4 -->
      <div class="mb-5 position-relative">
        <div class="position-absolute top-0 start-0 translate-middle bg-warning rounded-circle" style="width: 16px; height: 16px;"></div>
        <div class="p-4 ms-4 rounded-4 shadow-sm" style="background-color: #fff8e1; border-left: 5px solid #ffc107;">
          <h5 class="text-warning fw-semibold mb-2">Step 4: Pricing</h5>
          <p class="text-muted mb-0">Select your pricing tier, currency, and define how students will pay.</p>
        </div>
      </div>

      <!-- Timeline Item 5 -->
      <div class="mb-5 position-relative">
        <div class="position-absolute top-0 start-0 translate-middle bg-danger rounded-circle" style="width: 16px; height: 16px;"></div>
        <div class="p-4 ms-4 rounded-4 shadow-sm" style="background-color: #fdecea; border-left: 5px solid #dc3545;">
          <h5 class="text-danger fw-semibold mb-2">Step 5: Review & Publish</h5>
          <p class="text-muted mb-0">Check all details and publish your course to go live.</p>
        </div>
      </div>

    </div>
  </div>
</div>



