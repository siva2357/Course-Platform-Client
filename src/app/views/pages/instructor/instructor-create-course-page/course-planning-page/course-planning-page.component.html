<form [formGroup]="coursePlanDetails" (ngSubmit)="postPlanPage()">
  <div class="card shadow-lg rounded-4 border-0">
    <div class="card-body p-5">
      <h4 class="text-primary fw-semibold mb-3">ğŸ¯ Intended Learners</h4>
      <hr class="mb-4" />

      <p class="text-muted mb-4" style="font-size: 14px;">
        These descriptions appear on your course landing page and affect visibility and performance.
      </p>

      <!-- Learning Objectives -->
      <div class="mb-5">
        <h6 class="fw-bold mb-2">ğŸ“ What will students learn?</h6>
        <p class="text-muted" style="font-size: 14px;">
          Add at least 4 learning outcomes students will achieve.
        </p>

        <div formArrayName="learningObjectives">
          <div *ngFor="let objective of learningObjectives.controls; let i = index" class="d-flex mb-2 align-items-center gap-2">
            <input type="text" class="form-control form-control-sm flex-grow-1"
                   [formControlName]="i" placeholder="Learning objective" />
            <button type="button" class="btn btn-sm btn-outline-danger rounded-0"
                    (click)="removeObjectives(i)" *ngIf="learningObjectives.length > 1">
              <i class="bi bi-trash"></i>
            </button>
          </div>
          <button type="button" class="btn btn-sm btn-outline-primary rounded-0 mt-2" (click)="addObjectives()">
            + Add
          </button>
        </div>
      </div>

      <!-- Course Requirements -->
      <div class="mb-5">
        <h6 class="fw-bold mb-2">ğŸ“Œ Requirements / Prerequisites</h6>
        <p class="text-muted" style="font-size: 14px;">
          List required skills, tools, or background knowledge.
        </p>

        <div formArrayName="courseRequirements">
          <div *ngFor="let req of courseRequirements.controls; let i = index" class="d-flex mb-2 align-items-center gap-2">
            <input type="text" class="form-control form-control-sm flex-grow-1" [formControlName]="i"
                   placeholder="e.g., Basic HTML knowledge" />
            <button type="button" class="btn btn-sm btn-outline-danger rounded-0"
                    (click)="removeRequirements(i)" *ngIf="courseRequirements.length > 1">
              <i class="bi bi-trash"></i>
            </button>
          </div>
          <button type="button" class="btn btn-sm btn-outline-primary rounded-0 mt-2" (click)="addRequirements()">
            + Add
          </button>
        </div>
      </div>

      <!-- Target Audience -->
      <div class="mb-5">
        <h6 class="fw-bold mb-2">ğŸ‘¥ Who is this course for?</h6>
        <p class="text-muted" style="font-size: 14px;">
          Describe your ideal learners to attract the right audience.
        </p>

        <div formArrayName="courseLevel">
          <div *ngFor="let level of courseLevel.controls; let i = index" class="d-flex mb-2 align-items-center gap-2">
            <input type="text" class="form-control form-control-sm flex-grow-1" [formControlName]="i"
                   placeholder="e.g., Beginners in Web Development" />
            <button type="button" class="btn btn-sm btn-outline-danger rounded-0"
                    (click)="removeCourseLevel(i)" *ngIf="courseLevel.length > 1">
              <i class="bi bi-trash"></i>
            </button>
          </div>
          <button type="button" class="btn btn-sm btn-outline-primary rounded-0 mt-2" (click)="addCourseLevel()">
            + Add
          </button>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="d-flex justify-content-between mt-4">
        <button type="button" class="btn btn-sm btn-outline-secondary px-4 rounded-0" (click)="previous()">
          Back
        </button>
        <button type="submit" class="btn btn-sm btn-outline-primary px-4 rounded-0">
          Save
        </button>
      </div>
    </div>
  </div>
</form>
