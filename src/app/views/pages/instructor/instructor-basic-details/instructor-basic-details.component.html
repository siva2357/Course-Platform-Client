<div class="container-fluid mt-5" *ngIf="!isLoading" style="font-family: 'Poppins', sans-serif;">


  <form [formGroup]="basicDetailsForm" (ngSubmit)="updateProfile()">

    <div class="container">
      <h5>Basic Details</h5>
      <div class="row mt-3">

        <div class="col">
          <label for="fullName" class="form-label ">Fullname : </label>
          <input [ngClass]="{'is-invalid': basicDetailsForm.get('fullName')?.invalid && basicDetailsForm.get('fullName')?.touched}" type="text" id="fullName" formControlName="fullName" class="form-control form-control-sm" placeholder="Full name" required>
          <small *ngIf="basicDetailsForm.get('fullName')?.hasError('required') && basicDetailsForm.get('fullName')?.touched"class="text-danger"  style="font-size: 12px;">Fullname is required.</small>
        </div>


        <div class="col">
          <label for="userName" class="form-label ">Username : </label>
          <input [ngClass]="{'is-invalid': basicDetailsForm.get('userName')?.invalid && basicDetailsForm.get('userName')?.touched}" type="text" id="userName" formControlName="userName" class="form-control form-control-sm" placeholder="User name" required>
          <small *ngIf="basicDetailsForm.get('userName')?.hasError('required') && basicDetailsForm.get('userName')?.touched" class="text-danger"  style="font-size: 12px;">Username is required.</small>
        </div>


      </div>


      <div class="row mt-3">


        <div class="col">
          <label for="email" class="form-label">Email ID : </label>
          <input [ngClass]="{'is-invalid': basicDetailsForm.get('email')?.invalid && basicDetailsForm.get('email')?.touched}" type="text" id="email" formControlName="email" class="form-control form-control-sm " placeholder="Email" required>
          <small *ngIf="basicDetailsForm.get('email')?.hasError('required') && basicDetailsForm.get('email')?.touched" class="text-danger" style="font-size: 12px;">Email is required.</small>
        </div>


        <div class="col">
          <label for="gender" class="form-label">Gender :</label>
          <select [ngClass]="{'is-invalid': basicDetailsForm.get('gender')?.invalid && basicDetailsForm.get('gender')?.touched}" id="gender" class="form-control form-control-sm " formControlName="gender" required>
            <option value="">Select gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
          <small *ngIf="basicDetailsForm.get('gender')?.hasError('required') && basicDetailsForm.get('gender')?.touched" class="text-danger" style="font-size: 12px;">Gender is required.</small>
        </div>

      </div>
    </div>



    <div class="container mt-5">
      <h5>Bio Details</h5>

      <!-- Job Descriptions -->
      <div class="row  mt-3">

        <div class="col">
          <div class="NgxEditor__Wrapper">
            <ngx-editor-menu [editor]="editor" [toolbar]="toolbar"> </ngx-editor-menu>
            <ngx-editor [ngClass]="{'is-invalid': basicDetailsForm.get('bioDescription')?.invalid && basicDetailsForm.get('bioDescription')?.touched}" [editor]="editor" class="form-control form-control-sm" formControlName="bioDescription"  [placeholder]="'Enter bio description'" required></ngx-editor>
          </div>
          <small *ngIf="basicDetailsForm.get('bioDescription')?.hasError('required') && basicDetailsForm.get('bioDescription')?.touched" class="text-danger" style="font-size: 12px;">Bio details is required.</small>
        </div>

      </div>

    </div>





    <div class="container mb-5">
      <div class="d-flex justify-content-between mt-5">
        <button type="button"   class="btn btn-sm btn-outline-danger px-4  poppins-medium"  (click)="discard()">Discard</button>
        <button type="submit" class="btn btn-sm btn-outline-primary px-4  poppins-medium"  [disabled]="!basicDetailsForm.dirty || basicDetailsForm.invalid || isUpdating">Update</button>
      </div>
    </div>




  </form>
</div>

<div class="container-fluid" *ngIf="isLoading">
  <div class="text-center">
      <div class="spinner-border" role="status">
          <span class="visually-hidden">Loading...</span>
      </div>
      <div class="mt-3">
          <p>Saving profile details</p>
      </div>
  </div>
</div>

