<div class="container py-5 mt-5 mb-5">
  <div class="row g-4">

    <!-- Left: Certificate Details -->
    <div class="col-lg-6">
      <div class="certificate-container h-100">
        <div class="d-flex align-items-center mb-4">
          <img [src]="profilePicture" alt="User Avatar" class="user-avatar me-3" />
          <div>
            <h5 class="mb-1 fw-semibold text-dark">{{ fullName }}</h5>
            <span class="text-muted small">
              Completed on: <strong>{{ issuedDate | date: 'longDate' }}</strong>
            </span>
          </div>
        </div>

        <p class="mb-2"><strong>Course Duration:</strong> {{ courseDuration }}</p>
        <p class="mb-3"><strong>Grade Achieved:</strong> A+</p>

        <hr />

        <!-- Learning Objectives -->
        <div *ngIf="learningObjectives?.length">
          <div class="section-heading">Learning Objectives</div>
          <ul class="mb-3 ps-3">
            <li *ngFor="let item of learningObjectives">{{ item }}</li>
          </ul>
        </div>

        <!-- Course Requirements -->
        <div *ngIf="courseRequirements?.length">
          <div class="section-heading">Course Requirements</div>
          <ul class="mb-3 ps-3">
            <li *ngFor="let req of courseRequirements">{{ req }}</li>
          </ul>
        </div>

        <!-- Course Level -->
        <div *ngIf="courseLevel?.length">
          <div class="section-heading">Course Level</div>
          <ul class="mb-3 ps-3">
            <li *ngFor="let lvl of courseLevel">{{ lvl }}</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Right: Certificate Preview -->
    <div class="col-lg-6">
      <div class="certificate-container text-center">
<div class="certificate-preview mb-4">
  <div *ngIf="isGeneratingImage" class="text-center">
    <div class="spinner-border text-primary" role="status"></div>
    <p class="mt-2">Generating certificate preview...</p>
  </div>

  <img *ngIf="certificateImageUrl && !isGeneratingImage" [src]="certificateImageUrl" alt="Certificate" class="img-fluid" />
</div>


        <div class="d-flex justify-content-center gap-3 action-buttons" *ngIf="isCourseCompleted">
          <button class="btn btn-outline-primary" (click)="downloadCertificate()">
            <i class="bi bi-download me-2"></i> Download Certificate
          </button>
          <button class="btn btn-outline-success">
            <i class="bi bi-share me-2"></i> Share Certificate
          </button>
        </div>
      </div>
    </div>

  </div>
</div>
